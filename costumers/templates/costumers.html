{% extends "main.html"%}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'costumers/css/costumers.css' %}">
{% endblock %}

{% block dashboard %}
<div class="container">
    <div class="row">
        <div onclick="display_form('1')" class="col-md card-dashboard">
            <p class="text-card">Add Customer</p> 
        </div>

        <div onclick="display_form('2')" class="col-md card-dashboard">
            <p class="text-card">Update Customer</p> 
        </div>
    </div>

    <div id="add_costumer" class="add-costumer">
        <form action="{% url 'costumers' %}" method="POST">
            {% csrf_token %}
            <div class="col-md">
                <p>First Name:</p>
                <input type="text" class="form-control" placeholder="First name" name="firstname" value="{{firstname}}">
            </div>
            <div class="col-md">
                <p>Last Name:</p>
                <input type="text" class="form-control" placeholder="Last name" name="lastname" value="{{lastname}}">>
            </div>
            <br>
            <p>Email:</p>
            <input type="email" class="form-control" placeholder="name@email.com" name="email" value="{{email}}">>
            <br>
            <p>Phone Number:</p>
            <input type="text" class="form-control" placeholder="Phone number" name="phone" value="{{phone}}">>
            <hr style="background-color:gray;">
            <div class="add-cars">
                <h3>Cars</h3>
                <span class="btn-add-cars" onclick="add_car()">+ Add a Car</span>

                <div id="form-car">
                    {% for car, r_car, y in cars %}
                        <br>
                            <div class="row">
                                <div class="col-md">
                                    <input type="text" placeholder="car" class="form-control" name="car" value="{{car}}">
                                </div>

                                <div class="col-md">
                                    <input type="text" placeholder="reg-car" class="form-control" name="reg_car" value="{{reg_car}}">
                                </div>

                                <div class="col-md">
                                    <input type="number" placeholder="year" class="form-control" name="year" value="{{years}}">
                                </div>
                            </div>
                        {% endfor%}
                </div>

            </div>
            <br>
            <input type="submit" value="Register" class="btn-main">
        </form>
    </div>

   <div id="upd_costumer"> 
        <p>Update Customer:</p>
        <select id="costumer-select" onchange="data_costumer()" class='form-control'>
        {% for costumer in costumer %}
            <option value="{{ costumer.id }}">{{ costumer.firstname }}</option>
        {% endfor %}
        </select>
        <br>
        <hr>

        <div id="form-att-cliente">
            <input type="hidden" id="id">
                <p>Name:</p>
            <input id="name" type="text" class='form-control'>
                <p>Surname:</p>
            <input id="surname" type="text" class='form-control'>
                <p>E-mail:</p>
            <input id="email" type="text" class='form-control'>
                <p>Phone Number:</p>
            <input id="phone-number" type="text" class='form-control'>                    
            <br>
            <input onclick="update_cliente()"  type="submit" value="salvar" class="btn btn-success" > 
            <hr style="background-color: gray;">
            <h2>Cars</h2>
           
            <div id="cars">
                        
            </div>
        </div>
    </div>
</div>
<script src="{% static 'costumers/js/costumers.js' %}"></script>
{% endblock %}
